<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - Modern Shop</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .breadcrumb {
            padding: 1rem 0;
            color: #64748b;
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: #6366f1;
            text-decoration: none;
            margin: 0 0.5rem;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .products-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .filters-section {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
        }

        .filter-group {
            margin-bottom: 1.5rem;
        }

        .filter-group h3 {
            margin-bottom: 1rem;
            color: #1e293b;
        }

        .filter-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }

        .filter-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .filter-checkbox input[type="checkbox"] {
            cursor: pointer;
            width: 18px;
            height: 18px;
        }

        .sort-dropdown {
            padding: 10px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sort-dropdown:hover,
        .sort-dropdown:focus {
            border-color: #6366f1;
            outline: none;
        }

        .products-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
        }

        .product-item {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .product-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
        }

        .product-item-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            position: relative;
        }

        .product-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ef4444;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .product-item-info {
            padding: 1.5rem;
        }

        .product-item-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #1e293b;
        }

        .product-item-description {
            color: #64748b;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            min-height: 40px;
        }

        .product-item-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .product-item-rating .stars {
            color: #f59e0b;
        }

        .product-item-price {
            font-size: 1.4rem;
            color: #6366f1;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .product-item-footer {
            display: flex;
            gap: 0.5rem;
        }

        .product-item-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid #6366f1;
            background: white;
            color: #6366f1;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .product-item-btn:hover {
            background: #6366f1;
            color: white;
        }

        .wishlist-icon {
            width: 44px;
            height: 44px;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .wishlist-icon:hover {
            border-color: #ec4899;
            background: #fce7f3;
        }

        .no-products {
            grid-column: 1 / -1;
            text-align: center;
            padding: 3rem;
            color: #64748b;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }

        .pagination button {
            padding: 8px 12px;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pagination button:hover {
            border-color: #6366f1;
            color: #6366f1;
        }

        .pagination button.active {
            background: #6366f1;
            color: white;
            border-color: #6366f1;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-wrapper">
                <div class="logo">
                    <h1>üõçÔ∏è ModernShop</h1>
                </div>
                <button class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="product.html">Products</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="#" class="cart-icon">üõí Cart (0)</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <div class="container">
        <div class="breadcrumb">
            <a href="index.html">Home</a> / <span>Products</span>
        </div>
    </div>

    <!-- Products Page Header -->
    <section class="products-header">
        <div class="container">
            <h1 style="font-size: 2.5rem; margin-bottom: 1rem;">Our Products</h1>
            <p style="color: #64748b; font-size: 1.1rem;">Explore our premium collection of products</p>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container" style="display: grid; grid-template-columns: 250px 1fr; gap: 2rem; margin: 2rem 0;">
        
        <!-- Sidebar Filters -->
        <aside class="filters-section">
            <h2 style="margin-bottom: 1.5rem; color: #1e293b;">Filters</h2>

            <!-- Search -->
            <div class="filter-group">
                <h3>Search</h3>
                <input type="text" id="productSearch" placeholder="Search products..." 
                    style="width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.9rem;">
            </div>

            <!-- Price Range -->
            <div class="filter-group">
                <h3>Price Range</h3>
                <div class="filter-options">
                    <label class="filter-checkbox">
                        <input type="checkbox" name="price" value="0-100">
                        <span>Under $100</span>
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" name="price" value="100-300">
                        <span>$100 - $300</span>
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" name="price" value="300-1000">
                        <span>$300+</span>
                    </label>
                </div>
            </div>

            <!-- Rating -->
            <div class="filter-group">
                <h3>Rating</h3>
                <div class="filter-options">
                    <label class="filter-checkbox">
                        <input type="checkbox" name="rating" value="4">
                        <span>‚≠ê 4 & up</span>
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" name="rating" value="4.5">
                        <span>‚≠ê 4.5 & up</span>
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" name="rating" value="4.8">
                        <span>‚≠ê 4.8 & up</span>
                    </label>
                </div>
            </div>

            <!-- Sort -->
            <div class="filter-group">
                <h3>Sort By</h3>
                <select class="sort-dropdown" id="sortDropdown">
                    <option value="popular">Most Popular</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                    <option value="rating">Highest Rating</option>
                    <option value="newest">Newest</option>
                </select>
            </div>

            <!-- Clear Filters -->
            <button onclick="clearFilters()" style="width: 100%; padding: 12px; background: linear-gradient(135deg, #6366f1 0%, #ec4899 100%); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">
                Clear All Filters
            </button>
        </aside>

        <!-- Products Grid -->
        <main>
            <div class="products-container" id="productsContainer">
                <!-- Products will be dynamically loaded -->
            </div>

            <!-- Pagination -->
            <div class="pagination" id="pagination">
                <!-- Pagination buttons will be generated -->
            </div>
        </main>

    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2026 ModernShop. All rights reserved. | Created with ‚ù§Ô∏è by Sigmaboyplayer</p>
    </footer>

    <script src="script.js"></script>
    <script>
        // Product Page Specific Logic
        let currentPage = 1;
        const productsPerPage = 6;

        function displayProducts(productsToDisplay = products) {
            const container = document.getElementById('productsContainer');
            container.innerHTML = '';

            if (productsToDisplay.length === 0) {
                container.innerHTML = '<div class="no-products">No products found. Try adjusting your filters.</div>';
                return;
            }

            const startIdx = (currentPage - 1) * productsPerPage;
            const endIdx = startIdx + productsPerPage;
            const paginatedProducts = productsToDisplay.slice(startIdx, endIdx);

            paginatedProducts.forEach(product => {
                const isInWishlist = wishlist.some(item => item.id === product.id);
                const productHTML = document.createElement('div');
                productHTML.className = 'product-item';
                productHTML.innerHTML = `
                    <div class="product-item-image">
                        ${product.emoji}
                        ${product.stock <= 5 ? '<span class="product-badge">Limited</span>' : ''}
                    </div>
                    <div class="product-item-info">
                        <h3 class="product-item-name">${product.name}</h3>
                        <p class="product-item-description">${product.description}</p>
                        <div class="product-item-rating">
                            <span class="stars">‚òÖ ${product.rating}</span>
                            <span>(${product.reviews} reviews)</span>
                        </div>
                        <p class="product-item-price">$${product.price.toFixed(2)}</p>
                        <div class="product-item-footer">
                            <button class="product-item-btn" onclick="addToCart(${product.id})">Add to Cart</button>
                            <button class="wishlist-icon ${isInWishlist ? 'active' : ''}" onclick="toggleWishlist(${product.id})">
                                ${isInWishlist ? '‚ù§Ô∏è' : 'ü§ç'}
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(productHTML);
            });

            generatePagination(productsToDisplay.length);
        }

        function generatePagination(totalProducts) {
            const paginationContainer = document.getElementById('pagination');
            paginationContainer.innerHTML = '';

            const totalPages = Math.ceil(totalProducts / productsPerPage);

            for (let i = 1; i <= totalPages; i++) {
                const btn = document.createElement('button');
                btn.textContent = i;
                btn.className = i === currentPage ? 'active' : '';
                btn.onclick = () => {
                    currentPage = i;
                    displayProducts(getFilteredProducts());
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                };
                paginationContainer.appendChild(btn);
            }
        }

        function getFilteredProducts() {
            let filtered = [...products];

            // Search filter
            const searchTerm = document.getElementById('productSearch')?.value.toLowerCase() || '';
            if (searchTerm) {
                filtered = filtered.filter(p => 
                    p.name.toLowerCase().includes(searchTerm) ||
                    p.description.toLowerCase().includes(searchTerm)
                );
            }

            // Price filter
            const priceChecks = document.querySelectorAll('input[name="price"]:checked');
            if (priceChecks.length > 0) {
                const priceRanges = Array.from(priceChecks).map(c => c.value);
                filtered = filtered.filter(p => {
                    return priceRanges.some(range => {
                        const [min, max] = range.split('-').map(Number);
                        return p.price >= min && p.price <= max;
                    });
                });
            }

            // Rating filter
            const ratingChecks = document.querySelectorAll('input[name="rating"]:checked');
            if (ratingChecks.length > 0) {
                const minRatings = Array.from(ratingChecks).map(c => parseFloat(c.value));
                filtered = filtered.filter(p => 
                    minRatings.some(minRating => p.rating >= minRating)
                );
            }

            // Sort
            const sortValue = document.getElementById('sortDropdown')?.value;
            switch(sortValue) {
                case 'price-low':
                    filtered.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filtered.sort((a, b) => b.price - a.price);
                    break;
                case 'rating':
                    filtered.sort((a, b) => b.rating - a.rating);
                    break;
            }

            return filtered;
        }

        function clearFilters() {
            document.getElementById('productSearch').value = '';
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            document.getElementById('sortDropdown').value = 'popular';
            currentPage = 1;
            displayProducts();
            showNotification('‚ú® Filters cleared!', 'info');
        }

        // Event Listeners
        document.getElementById('productSearch')?.addEventListener('input', () => {
            currentPage = 1;
            displayProducts(getFilteredProducts());
        });

        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                currentPage = 1;
                displayProducts(getFilteredProducts());
            });
        });

        document.getElementById('sortDropdown')?.addEventListener('change', () => {
            currentPage = 1;
            displayProducts(getFilteredProducts());
        });

        // Initial Load
        displayProducts();
    </script>
</body>
</html>